# Use crystal by default
language: crystal

jobs:
  include:
    - stage: lint
      script: bash .ci/lint.sh
      language: c
      env: LANGUAGE=c DIRECTORY=c
    - stage: lint
      script: bash .ci/lint.sh
      language: cpp
      env: LANGUAGE=cpp DIRECTORY=cpp
    - stage: lint
      script: bash .ci/lint.sh
      language: crystal
      env: LANGUAGE=crystal DIRECTORY=crystal
    - stage: lint
      script: bash .ci/lint.sh
      language: csharp
      env: LANGUAGE=csharp DIRECTORY=csharp
    - stage: lint
      script: bash .ci/lint.sh
      language: go
      env: LANGUAGE=go DIRECTORY=go
    - stage: lint
      script: bash .ci/lint.sh
      language: java
      env: LANGUAGE=java DIRECTORY=java
    - stage: lint
      script: bash .ci/lint.sh
      language: generic
      env: LANGUAGE=nim DIRECTORY=nim
    - stage: lint
      script: bash .ci/lint.sh
      language: node_js
      env: LANGUAGE=node DIRECTORY=node
    - stage: lint
      script: bash .ci/lint.sh
      os: osx
      language: objective-c
      env: LANGUAGE=objc DIRECTORY=objc
    - stage: lint
      script: bash .ci/lint.sh
      language: php
      env: LANGUAGE=php DIRECTORY=php
    - stage: lint
      script: bash .ci/lint.sh
      language: python
      env: LANGUAGE=python DIRECTORY=python
    - stage: lint
      script: bash .ci/lint.sh
      language: ruby
      env: LANGUAGE=ruby DIRECTORY=ruby
    - stage: lint
      script: bash .ci/lint.sh
      language: rust
      env: LANGUAGE=rust DIRECTORY=rust
    - stage: lint
      script: bash .ci/lint.sh
      language: scala
      env: LANGUAGE=scala DIRECTORY=scala
    - stage: lint
      script: bash .ci/lint.sh
      os: osx
      language: objective-c
      env: LANGUAGE=swift DIRECTORY=swift
    
    
    - stage: test
      env: FRAMEWORK=kore
      services: docker
    - stage: test
      env: FRAMEWORK=agoo-c
      services: docker
    - stage: test
      env: FRAMEWORK=cuba
      services: docker
    - stage: test
      env: FRAMEWORK=rack-routing
      services: docker
    - stage: test
      env: FRAMEWORK=sinatra
      services: docker
    - stage: test
      env: FRAMEWORK=roda
      services: docker
    - stage: test
      env: FRAMEWORK=agoo
      services: docker
    - stage: test
      env: FRAMEWORK=flame
      services: docker
    - stage: test
      env: FRAMEWORK=rails
      services: docker
    - stage: test
      env: FRAMEWORK=hanami
      services: docker
    - stage: test
      env: FRAMEWORK=evhtp
      services: docker
    - stage: test
      env: FRAMEWORK=spring-boot
      services: docker
    - stage: test
      env: FRAMEWORK=act
      services: docker
    - stage: test
      env: FRAMEWORK=hapi
      services: docker
    - stage: test
      env: FRAMEWORK=fastify
      services: docker
    - stage: test
      env: FRAMEWORK=0http
      services: docker
    - stage: test
      env: FRAMEWORK=muneem
      services: docker
    - stage: test
      env: FRAMEWORK=rayo
      services: docker
    - stage: test
      env: FRAMEWORK=koa
      services: docker
    - stage: test
      env: FRAMEWORK=express
      services: docker
    - stage: test
      env: FRAMEWORK=foxify
      services: docker
    - stage: test
      env: FRAMEWORK=restify
      services: docker
    - stage: test
      env: FRAMEWORK=turbo_polka
      services: docker
    - stage: test
      env: FRAMEWORK=restana
      services: docker
    - stage: test
      env: FRAMEWORK=polka
      services: docker
    - stage: test
      env: FRAMEWORK=aspnetcore
      services: docker
    - stage: test
      env: FRAMEWORK=raze
      services: docker
    - stage: test
      env: FRAMEWORK=amber
      services: docker
    - stage: test
      env: FRAMEWORK=lucky
      services: docker
    - stage: test
      env: FRAMEWORK=spider-gazelle
      services: docker
    - stage: test
      env: FRAMEWORK=router.cr
      services: docker
    - stage: test
      env: FRAMEWORK=kemal
      services: docker
    - stage: test
      env: FRAMEWORK=athena
      services: docker
    - stage: test
      env: FRAMEWORK=orion
      services: docker
    - stage: test
      env: FRAMEWORK=onyx
      services: docker
    - stage: test
      env: FRAMEWORK=starlette
      services: docker
    - stage: test
      env: FRAMEWORK=japronto
      services: docker
    - stage: test
      env: FRAMEWORK=falcon
      services: docker
    - stage: test
      env: FRAMEWORK=bottle
      services: docker
    - stage: test
      env: FRAMEWORK=sanic
      services: docker
    - stage: test
      env: FRAMEWORK=bocadillo
      services: docker
    - stage: test
      env: FRAMEWORK=cyclone
      services: docker
    - stage: test
      env: FRAMEWORK=responder
      services: docker
    - stage: test
      env: FRAMEWORK=masonite
      services: docker
    - stage: test
      env: FRAMEWORK=quart
      services: docker
    - stage: test
      env: FRAMEWORK=fastapi
      services: docker
    - stage: test
      env: FRAMEWORK=hug
      services: docker
    - stage: test
      env: FRAMEWORK=molten
      services: docker
    - stage: test
      env: FRAMEWORK=vibora
      services: docker
    - stage: test
      env: FRAMEWORK=django
      services: docker
    - stage: test
      env: FRAMEWORK=flask
      services: docker
    - stage: test
      env: FRAMEWORK=tornado
      services: docker
    - stage: test
      env: FRAMEWORK=aiohttp
      services: docker
    - stage: test
      env: FRAMEWORK=nickel
      services: docker
    - stage: test
      env: FRAMEWORK=actix-web
      services: docker
    - stage: test
      env: FRAMEWORK=rocket
      services: docker
    - stage: test
      env: FRAMEWORK=gotham
      services: docker
    - stage: test
      env: FRAMEWORK=iron
      services: docker
    - stage: test
      env: FRAMEWORK=http4s
      services: docker
    - stage: test
      env: FRAMEWORK=akkahttp
      services: docker
    - stage: test
      env: FRAMEWORK=slim
      services: docker
    - stage: test
      env: FRAMEWORK=zend-expressive
      services: docker
    - stage: test
      env: FRAMEWORK=lumen
      services: docker
    - stage: test
      env: FRAMEWORK=laravel
      services: docker
    - stage: test
      env: FRAMEWORK=zend-framework
      services: docker
    - stage: test
      env: FRAMEWORK=symfony
      services: docker
    - stage: test
      env: FRAMEWORK=vapor
      services: docker
    - stage: test
      env: FRAMEWORK=kitura-nio
      services: docker
    - stage: test
      env: FRAMEWORK=perfect
      services: docker
    - stage: test
      env: FRAMEWORK=kitura
      services: docker
    - stage: test
      env: FRAMEWORK=ktor
      services: docker
    - stage: test
      env: FRAMEWORK=echo
      services: docker
    - stage: test
      env: FRAMEWORK=gorouter
      services: docker
    - stage: test
      env: FRAMEWORK=gf
      services: docker
    - stage: test
      env: FRAMEWORK=beego
      services: docker
    - stage: test
      env: FRAMEWORK=chi
      services: docker
    - stage: test
      env: FRAMEWORK=gin
      services: docker
    - stage: test
      env: FRAMEWORK=gorilla-mux
      services: docker
    - stage: test
      env: FRAMEWORK=kami
      services: docker
    - stage: test
      env: FRAMEWORK=violetear
      services: docker
    - stage: test
      env: FRAMEWORK=fasthttprouter
      services: docker
    - stage: test
      env: FRAMEWORK=jester
      services: docker

notifications:
  email: false

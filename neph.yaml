main:
  depends_on:
    - crystal
    - ruby
    - nim
    - python
    - go
      
crystal:
  depends_on:
    - router.cr
    - raze
    - kemal

ruby:
  depends_on:
    - rails
    - sinatra
    - roda

nim:
  depends_on:
    - jester

python:
  depends_on:
    - flask
    - japronto
    - django
go:
 depends_on:
   - iris
   - echo
   - gorilla_mux
   - fasthttprouter
   - gin

router.cr:
  command: |
    docker build -t router.cr . 1>&2
    docker run -td router.cr
  dir: crystal/router.cr

raze:
  command: |
    docker build -t raze . 1>&2
    docker run -td raze
  dir: crystal/raze

kemal:
  command: |
    docker build -t kemal . 1>&2
    docker run -td kemal
  dir: crystal/kemal

rails:
  command: |
    docker build -t rails . 1>&2
    docker run -td rails
  dir: ruby/rails

sinatra:
  command: |
    docker build -t sinatra . 1>&2
    docker run -td sinatra
  dir: ruby/sinatra

roda:
  command: |
    docker build -t roda . 1>&2
    docker run -td roda
  dir: ruby/roda

jester:
  command: |
    docker build -t jester . 1>&2
    docker run -td jester
  dir: nim/jester

flask:
  command: |
    docker build -t flask . 1>&2
    docker run -td flask
  dir: python/flask

japronto:
  command: |
    docker build -t japronto . 1>&2
    docker run -td japronto
  dir: python/japronto

iris:
  command: |
    docker build -t iris . 1>&2
    docker run -td iris
  dir: go/iris

echo:
  command: |
    docker build -t echo . 1>&2
    docker run -td echo
  dir: go/echo

gorilla_mux:
  command: |
    docker build -t gorilla_mux . 1>&2
    docker run -td gorilla_mux
  dir: go/gorilla-mux

fasthttprouter:
  command: |
    docker build -t fasthttprouter . 1>&2
    docker run -td fasthttprouter
  dir: go/fasthttprouter

gin:
  command: |
    docker build -t gin . 1>&2
    docker run -td gin
  dir: go/gin

django:
  command: |
    docker build -t django . 1>&2
    docker run -td django
  dir: python/django
